<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Flock Simulation</title>
</head>
<body>
    <main>
        <h1>Flock Simluation</h1>
        <p>
            This simluation is based off of the fascinating paper 
            <a target="_blank" href="http://www.cs.toronto.edu/~dt/siggraph97-course/cwr87/">
            <i>Flocks, Herds, and Schools: A Distributed Behavioral Model</i></a> by Creig 
            Reynolds. I highly recommend reading it. This site goes over the main points of 
            the paper and provides interactive simulations to help you visualize the 
            behaviors that lead to flocking.
        </p>
        <p>
            As Craig Reynolds says, the motion of a flock of birds or a school of fish is 
            a beautiful part of the natural world. I can recall many instances of being 
            fascinated by the sight.
        </p>
        <p>
            Is it possible to simulate this motion using computer graphics? At first, the 
            task seems daunting. One possible method is to create a script for each bird 
            to follow. For example, you could take one bird and say "move straight for 10 
            frames, then turn 30 degrees clockwise over the next 10 frames, then move 
            straight for another 15 before turning the other direction" and so on. This 
            would work, but there are many problems with this approach. First of all, most 
            flocks consist of thousands of birds. Scripting out a path for every single 
            bird will quickly become very tedious and unmaintainable, especially if you 
            wanted to match the complexity and fluidity of a real flock. Second, it would 
            be very difficult to make changes to the path of any bird. The path of a bird 
            is usually dependent on its neighbors, and the paths of its neighbors are
            usually dependent on it. Also, any change to a bird's path will greatly affect 
            the future path of that bird. Finally, the script will eventually come to an 
            end. I guess the programmer could put the script in a loop, but that would 
            require that each bird starts and ends in a location that is the same relative 
            to every other bird.
        </p>
        <p>
            Fortunately, there is an easier way. Think of a real life bird flying in the
            middle of a flock. How does it decide in which direction to go? In reality
            there may be hundreds of things that the bird must consider. However, for our
            simple simulation, each bird in a flock relies solely on its perception of
            the other birds in its immediate vicinity.
        </p>
        <p>
            Have a look at the simulation below. In it, the birds have no perception of 
            anything around them. They are basically blind, flying only with the goal to 
            stay in the air and keep moving. Of course this does not yet look like a flock, 
            but it is a good starting point. Each bird is given a random position and 
            velocity vector, and the position of the bird in the next frame is calculated
            by simply adding the velocity vector to the position vector. From here, we will 
            continue to add behavior to the birds until we get a combination of behavior 
            that resembles a real flock.
        </p>
        <canvas id="canvas0" class="canvas"></canvas>
        <div class="range-input">
            <h3>Count:</h3>
            <input type="range" id="count0" min="1" max="1000" step="1">
        </div>
        <div class="range-input">
            <h3>Max Speed:</h3>
            <input type="range" id="speed0" min="0.5" max="7" step="0.1">
        </div>
        <br>
        <button type="button" value="0" class="reset-button">Reset Inputs</button>
        <h2>Separation</h2>
        <img src="separation.gif" alt="Boid Separation Behavior">
        <p>
            The first flocking behavior we will look at is Separation, or the desire for a bird to 
            steer away from other birds that are too close. Colliding with another bird in 
            mid air is probably not a good way to maintain altitude.
        </p>
        <canvas id="canvas1" class="canvas"></canvas>
        <br>
        <div class="range-input">
            <h3>Count:</h3>
            <input type="range" id="count1" min="1" max="1000" step="1">
        </div>
        <div class="range-input">
            <h3>Max Speed:</h3>
            <input type="range" id="speed1" min="0.5" max="7" step="0.1">
        </div>
        <div class="range-input">
            <h3>Perception:</h3>
            <input type="range" id="perception1" min="0" max="100" step="1">
        </div>
        <div class="range-input">
            <h3>Separation:</h3>
            <input type="range" id="separation1" min="0" max="0.2" step="0.002">
        </div>
        <br>
        <button type="button" value="1" class="reset-button">Reset Inputs</button>
        <br>
        <canvas id="canvas2" class="canvas"></canvas>
        <br>
        <div class="range-input">
            <h3>Count:</h3>
            <input type="range" id="count2" min="1" max="1000" step="1">
        </div>
        <div class="range-input">
            <h3>Max Speed:</h3>
            <input type="range" id="speed2" min="0.5" max="7" step="0.1">
        </div>
        <div class="range-input">
            <h3>Perception:</h3>
            <input type="range" id="perception2" min="0" max="100" step="1">
        </div>
        <div class="range-input">
            <h3>Alignment:</h3>
            <input type="range" id="alignment2" min="0" max="0.2" step="0.002">
        </div>
        <br>
        <button type="button" value="2" class="reset-button">Reset Inputs</button>
        <br>
        <canvas id="canvas3" class="canvas"></canvas>
        <br>
        <div class="range-input">
            <h3>Count:</h3>
            <input type="range" id="count3" min="1" max="1000" step="1">
        </div>
        <div class="range-input">
            <h3>Max Speed:</h3>
            <input type="range" id="speed3" min="0.5" max="7" step="0.1">
        </div>
        <div class="range-input">
            <h3>Perception:</h3>
            <input type="range" id="perception3" min="0" max="100" step="1">
        </div>
        <div class="range-input">
            <h3>Cohesion:</h3>
            <input type="range" id="cohesion3" min="0" max="0.2" step="0.002">
        </div>
        <br>
        <button type="button" value="3" class="reset-button">Reset Inputs</button>
        <br>
        <canvas id="canvas4" class="canvas"></canvas>
        <br>
        <div class="range-input">
            <h3>Count:</h3>
            <input type="range" id="count4" min="1" max="1000" step="1">
        </div>
        <div class="range-input">
            <h3>Max Speed:</h3>
            <input type="range" id="speed4" min="0.5" max="7" step="0.1">
        </div>
        <div class="range-input">
            <h3>Perception:</h3>
            <input type="range" id="perception4" min="0" max="100" step="1">
        </div>
        <div class="range-input">
            <h3>Separation:</h3>
            <input type="range" id="separation4" min="0" max="0.2" step="0.002">
        </div>
        <div class="range-input">
            <h3>Alignment:</h3>
            <input type="range" id="alignment4" min="0" max="0.2" step="0.002">
        </div>
        <div class="range-input">
            <h3>Cohesion:</h3>
            <input type="range" id="cohesion4" min="0" max="0.2" step="0.002">
        </div>
        <br>
        <button type="button" value="4" class="reset-button">Reset Inputs</button>
    </main>
    <script src="canvas.js"></script>
    <script src="vector2D.js"></script>
    <script src="boid.js"></script>
    <script src="main.js"></script>
</body>
</html>